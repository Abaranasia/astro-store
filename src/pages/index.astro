---
import MainLayout from '@/layouts/MainLayout.astro';
/* 
import { getSession } from 'auth-astro/server';

const session = await getSession(Astro.request);
const {user} = session ?? {};

console.log('session :>> ', session); 
*/


---

<MainLayout>
  <h1 class="text-3xl">Home Page</h1>

</MainLayout>

<script>
  import { actions } from 'astro:actions';

  const {data:products, error} = await actions.getProductsByPage({});

/* if (error) {
  return Astro.redirect('/'); // Take care, this can generate an infinite reload
}
 */
console.log('products :>> ', products);
</script>